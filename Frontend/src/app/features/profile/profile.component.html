<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">My Profile</h1>

    <!-- Tabs -->
    <div class="border-b mb-6">
        <div class="flex gap-4">
            <button (click)="activeTab.set('profile')" [class.border-b-2]="activeTab() === 'profile'"
                [class.border-primary]="activeTab() === 'profile'" [class.text-primary]="activeTab() === 'profile'"
                class="px-4 py-2 font-medium">
                Profile
            </button>
            <button (click)="activeTab.set('addresses')" [class.border-b-2]="activeTab() === 'addresses'"
                [class.border-primary]="activeTab() === 'addresses'" [class.text-primary]="activeTab() === 'addresses'"
                class="px-4 py-2 font-medium">
                Addresses
            </button>
            <button (click)="activeTab.set('security')" [class.border-b-2]="activeTab() === 'security'"
                [class.border-primary]="activeTab() === 'security'" [class.text-primary]="activeTab() === 'security'"
                class="px-4 py-2 font-medium">
                Security
            </button>
        </div>
    </div>

    <!-- Profile Tab -->
    @if (activeTab() === 'profile') {
    <div class="max-w-2xl">
        <div class="bg-white rounded-lg border p-6">
            <div class="flex items-center gap-2 mb-6">
                <lucide-icon [img]="User" class="h-5 w-5 text-primary"></lucide-icon>
                <h2 class="text-xl font-bold">Personal Information</h2>
            </div>

            <form (ngSubmit)="updateProfile()" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Name</label>
                    <input type="text" [(ngModel)]="profileData().name" name="name"
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">Email</label>
                    <input type="email" [(ngModel)]="profileData().email" name="email"
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">Phone</label>
                    <input type="tel" [(ngModel)]="profileData().phone" name="phone"
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>

                <button type="submit" class="px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/90">
                    Save Changes
                </button>
            </form>
        </div>
    </div>
    }

    <!-- Addresses Tab -->
    @if (activeTab() === 'addresses') {
    <div class="max-w-2xl">
        <div class="bg-white rounded-lg border p-6">
            <div class="flex items-center gap-2 mb-6">
                <lucide-icon [img]="MapPin" class="h-5 w-5 text-primary"></lucide-icon>
                <h2 class="text-xl font-bold">Saved Addresses</h2>
            </div>

            <p class="text-gray-600 mb-4">No saved addresses yet</p>
            <button class="px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/90">
                Add New Address
            </button>
        </div>
    </div>
    }

    <!-- Security Tab -->
    @if (activeTab() === 'security') {
    <div class="max-w-2xl">
        <div class="bg-white rounded-lg border p-6">
            <div class="flex items-center gap-2 mb-6">
                <lucide-icon [img]="Shield" class="h-5 w-5 text-primary"></lucide-icon>
                <h2 class="text-xl font-bold">Change Password</h2>
            </div>

            <form (ngSubmit)="changePassword()" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Current Password</label>
                    <input type="password" [(ngModel)]="passwordData().currentPassword" name="currentPassword" required
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">New Password</label>
                    <input type="password" [(ngModel)]="passwordData().newPassword" name="newPassword" required
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">Confirm New Password</label>
                    <input type="password" [(ngModel)]="passwordData().confirmPassword" name="confirmPassword" required
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary" />
                </div>

                <button type="submit" class="px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/90">
                    Change Password
                </button>
            </form>
        </div>
    </div>
    }
</div>